var AppAuth=angular.module("app.auth",["ui.router"]).run(["Auth","$rootScope",function(o,r){_log("AppAuth run ..."),r.isAuthenticated=o.isAuthenticated()}]).controller("AuthCtrl",["$scope","$rootScope","Auth",function(o,r,t){o.loginModel="alexey",o.passwordModel="",o.loginError=!1,o.passwordError=!1,o.Auth=function(r){_log("$scope.Auth Call ...",o.loginModel,o.passwordModel);var n=!0;""==$.trim(o.loginModel)&&(n=!1,o.loginError=!0),""==$.trim(o.passwordModel)&&(n=!1,o.passwordError=!0),n&&(o.loginError=!1,o.passwordError=!1,t.login({login:$.trim(o.loginModel),password:$.trim(o.passwordModel)}))},o.keyAuth=function(r){13==r.keyCode?o.Auth():27==r.keyCode}}]).factory("Auth",["$http","$q","Api",function(o,r,t){var n=!0;return{isAuthenticated:function(){return n},login:function(o){var n=r.defer();return t.login({login:o.login,password:o.password}).success(function(o){_log("Auth login success Data:",o),n.resolve(o)}).error(function(o,r,t,e){_log("Auth login error Data:",arguments),n.reject(o)}),n.promise}}}]);